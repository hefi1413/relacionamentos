<!DOCTYPE html>
<html lang=en>
<title>Example of DataTransfer.setDragImage()</title>
<meta name="viewport" content="width=device-width">
    
<style>
      #source {
        color: blue;
        border: 1px solid black;
      }
      #target {
        border: 4px solid black;
      }
</style>
    
<script>
    function dragstart_handler(ev) {
     console.log("dragStart");
        
      // div {
        // padding: 2em;
        // margin: 0em;
      // } 
        
     // Set the drag's format and data. Use the event target's id for the data
        
     //ev.dataTransfer.setData("text/plain", ev.target.id);
        
     // Create an image and use it for the drag image
     // NOTE: change "example.gif" to an existing image or the image will not
     // be created and the default drag image will be used.
        
     //var img = new Image();
     //img.src = 'fish.jpg';
     //ev.dataTransfer.setDragImage(img, 10, 10);
    }

    function dragover_handler(ev) {
        console.log("dragOver");
        ev.preventDefault();
        //
        let x = event.clientX;
        let y = event.clientY;
        let coords = "X coords: " + x + ", Y coords: " + y;
        //
        // calculo bottom , left , right e top
        
        let source =document.getElementById('source');
        let frame =document.getElementById('target');
        let offset = source.getBoundingClientRect();
        
        /*
        var top = source.height() - frame.height();
        var right = source.right() - frame.right();
        var left = source.left() - frame.left();
        var bottom = source.bottom() - frame.bottom();
        
        // fim do image drag
        //let can_drag = ???
        */
        console.log(coords);
        console.log('source.left :' + offset.left + ' source.bottom :' + offset.top + offset.width);
    }

    function drop_handler(ev) {
     console.log("Drop");
     ev.preventDefault();
     // Get the data, which is the id of the drop target
     //var data = ev.dataTransfer.getData("text");
     //ev.target.appendChild(document.getElementById(data));
    }
    
    
</script>
    
    
<body>
<h1>Example of <code>DataTransfer.setDragImage()</code></h1>

    Imagem: 
    <div id="target" style="width:200px;height:110px;" ondrop="drop_handler(event);" ondragover="dragover_handler(event);" onmousemove="">
    
        <img id="source" src="fish.jpg" ondragstart="dragstart_handler(event);" draggable="true" />
    
    </div>
    Dimens√£o da imagem 200 x 110px 
    
</body>
</html>
